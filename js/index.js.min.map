{"version":3,"sources":["index.js"],"names":["iconImageOffset","map","ymaps","Map","center","behaviors","geoObjects","placemark","Placemark","iconLayout","iconImageHref","iconImageSize","disable","add","contactsButton","document","getElementById","formFeedback","querySelector","closeFormFeedback","event","target","preventDefault","classList","remove","addEventListener","window","sliderControls","slides","sliderButtons","slice","querySelectorAll","call","element","contains","index","array","indexNextButton","indexCurrentButton","indexCurrentSlide","indexOf","find","findCurrentSlide","zoom"],"mappings":"AAAA,aA8FMA,SAAAA,KAAAA,GAJF,IAHFC,EAAA,IAAAC,EAAAC,IAAA,OALEC,QAAS,kBAAmB,mBAgB9BH,KAAII,GACJJ,UAAIK,iBAZAC,EAAY,IAAIL,EAAMM,WACvB,mBAAoB,uBAGnBC,WAAY,gBACZC,cAAe,qBACfC,eAAgB,IAAK,KACrBX,kBAAmB,IAAK,OAI5BC,EAAII,UAAUO,QAAQ,cACtBX,EAAIK,WAAWO,IAAIN,IAjGrB,WAEE,IAAMO,EAAiBC,SAASC,eAAe,mBACzCC,EAAeF,SAASG,cAAc,kBAc5C,SAASC,EAAkBC,IACXA,EAAMC,OAMZC,UAAAA,SAAN,yBACaC,KAAbN,EAAAA,WAEDG,EAAAE,iBACFL,EAAAM,UAAAC,OAAA,+BAFGP,EAAaM,UAAUV,IAAI,gCArB3BC,GAAkBG,IACpBH,EAAeW,iBAAiB,QAKlC,SAA0BL,GACxBA,EAAME,iBACNL,EAAaM,UAAUV,IAAI,+BAC3BI,EAAaM,UAAUC,OAAO,iCAP9BP,EAAaQ,iBAAiB,QAASN,GACvCO,OAAOD,iBAAiB,UAAWN,IAuBrC,IAAMQ,EAAiBZ,SAASG,cAAc,qBAM1CU,EAAAA,MAAUC,UAAVC,MAA2BH,KAAAA,SAAgBI,iBAAA,WAC7CJ,EAAeF,MAAAA,UAAiBK,MAAhCE,KACDjB,SAAAgB,iBAAA,6BAOC,SAAOE,EAAkBC,EAASC,EAAAC,GACnC,OAAAH,EAAAV,UAAAW,SAAA,oCAGC,SAAID,EAAgBZ,EAApBc,EAAAC,GAJA,OAAOH,EAAQV,UAAUW,SAAS,kBAJlCN,GAAOK,GAAkBC,GAC1BP,EAAAF,iBAAA,QAMD,SAAsBL,GAMlB,IAAAa,EAAII,EAAAA,OAIJR,GAAAA,EAAAA,UAAcS,SAAAA,2BACZ,CAEFT,EAAAA,iBAIA,IAAIU,EAAAA,EAA2BC,QAAQZ,GACvCA,EAAAC,EAAoCL,QACpCI,EAAOW,KAAAA,IAEPX,EAAOS,GAA2Bb,UAAOA,OAC1C,oCAvELK,EAAAQ,GAAAd,UAAAV,IA+DQ,oCAcR,IAAA0B,EAAAX,EAAAY,QAAAZ,EAAAa,KAAAC,IACAd,EAAAW,GAAqBhB,UAAAC,OAAA,kBACfvB,EAAMsC,GAAAhB,UAAqBV,IAAA,iBAC7BT,EAASiC,GAADd,UAAoBV,IAAA,kBAC5B8B,EAF6BN,GAAAd,UAAAC,OAAA,oBA/EjC,GAyFMf","file":"index.js","sourcesContent":["\"use strict\";\n\n(function() {\n  // Форма обратной связи\n  const contactsButton = document.getElementById(\"contacts-button\");\n  const formFeedback = document.querySelector(\".form-feedback\");\n\n  if (contactsButton && formFeedback) {\n    contactsButton.addEventListener(\"click\", openFormFeedback);\n    formFeedback.addEventListener(\"click\", closeFormFeedback);\n    window.addEventListener(\"keydown\", closeFormFeedback);\n  }\n\n  function openFormFeedback(event) {\n    event.preventDefault();\n    formFeedback.classList.add(\"page__form-feedback--opened\");\n    formFeedback.classList.remove(\"page__form-feedback--closed\");\n  }\n\n  function closeFormFeedback(event) {\n    let element = event.target;\n\n    if (\n      element.classList.contains(\"form-feedback__close\") ||\n      event.keyCode === 27\n    ) {\n      event.preventDefault();\n      formFeedback.classList.remove(\"page__form-feedback--opened\");\n      formFeedback.classList.add(\"page__form-feedback--closed\");\n    }\n  }\n\n  // Слайдер\n  const sliderControls = document.querySelector(\".slider__controls\");\n  let slides = Array.prototype.slice.call(document.querySelectorAll(\".slide\"));\n  let sliderButtons = Array.prototype.slice.call(\n    document.querySelectorAll(\".slider__controls-button\")\n  );\n\n  if (slides && sliderButtons && sliderControls) {\n    sliderControls.addEventListener(\"click\", changeSlides);\n  }\n\n  function findCurrentButton(element, index, array) {\n    return element.classList.contains(\"slider__controls-button--current\");\n  }\n\n  function findCurrentSlide(element, index, array) {\n    return element.classList.contains(\"slide--visible\");\n  }\n\n  function changeSlides(event) {\n    let element = event.target;\n\n    if (element.classList.contains(\"slider__controls-button\")) {\n      event.preventDefault();\n\n      let indexNextButton = sliderButtons.indexOf(element);\n      let indexCurrentButton = sliderButtons.indexOf(\n        sliderButtons.find(findCurrentButton)\n      );\n      sliderButtons[indexCurrentButton].classList.remove(\n        \"slider__controls-button--current\"\n      );\n      sliderButtons[indexNextButton].classList.add(\n        \"slider__controls-button--current\"\n      );\n\n      let indexCurrentSlide = slides.indexOf(slides.find(findCurrentSlide));\n      slides[indexCurrentSlide].classList.remove(\"slide--visible\");\n      slides[indexCurrentSlide].classList.add(\"slide--hidden\");\n      slides[indexNextButton].classList.add(\"slide--visible\");\n      slides[indexNextButton].classList.remove(\"slide--hidden\");\n    }\n  }\n})();\n\nsvg4everybody();\n\n// Яндекс карта\nfunction init(ymaps) {\n  let map = new ymaps.Map(\"map\", {\n    center: [59.93944115603922, 30.32302403991186],\n    zoom: 16,\n    controls: [\"zoomControl\"]\n  });\n\n  let placemark = new ymaps.Placemark(\n    [59.938633647616214, 30.32304549758399],\n    {},\n    {\n      iconLayout: \"default#image\",\n      iconImageHref: \"img/map-marker.png\",\n      iconImageSize: [231, 190],\n      iconImageOffset: [-51, -190]\n    }\n  );\n\n  map.behaviors.disable(\"scrollZoom\");\n  map.geoObjects.add(placemark);\n}\n"]}