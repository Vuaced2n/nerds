{"version":3,"sources":["index.js"],"names":["iconImageOffset","map","ymaps","Map","center","behaviors","geoObjects","placemark","Placemark","iconLayout","iconImageHref","iconImageSize","disable","add","contactsButton","document","getElementById","formFeedback","querySelector","closeFormFeedback","event","target","preventDefault","classList","remove","addEventListener","window","sliderControls","slides","sliderButtons","querySelectorAll","element","contains","index","array","indexNextButton","indexCurrentButton","indexCurrentSlide","indexOf","find","findCurrentSlide","zoom"],"mappings":"AAAA,aA8FMA,SAAAA,KAAAA,GAJF,IAHFC,EAAA,IAAAC,EAAAC,IAAA,MAAA,CALEC,OAAQ,CAAC,kBAAmB,mBAgB9BH,KAAII,GACJJ,SAAIK,CAAAA,iBAZAC,EAAY,IAAIL,EAAMM,UACxB,CAAC,mBAAoB,mBACrB,GACA,CACEC,WAAY,gBACZC,cAAe,qBACfC,cAAe,CAAC,IAAK,KACrBX,gBAAiB,EAAE,IAAK,OAI5BC,EAAII,UAAUO,QAAQ,cACtBX,EAAIK,WAAWO,IAAIN,IAjGrB,WAEE,IAAMO,EAAiBC,SAASC,eAAe,mBACzCC,EAAeF,SAASG,cAAc,kBAc5C,SAASC,EAAkBC,IACXA,EAAMC,OAMZC,UAAAA,SAAN,yBACaC,KAAbN,EAAAA,WAEDG,EAAAE,iBACFL,EAAAM,UAAAC,OAAA,+BAFGP,EAAaM,UAAUV,IAAI,gCArB3BC,GAAkBG,IACpBH,EAAeW,iBAAiB,QAKlC,SAA0BL,GACxBA,EAAME,iBACNL,EAAaM,UAAUV,IAAI,+BAC3BI,EAAaM,UAAUC,OAAO,iCAP9BP,EAAaQ,iBAAiB,QAASN,GACvCO,OAAOD,iBAAiB,UAAWN,IAuBrC,IAAMQ,EAAiBZ,SAASG,cAAc,qBAM1CU,EAAAA,MAAUC,KAAAA,SAAiBF,iBAAgB,WAC7CA,EAAeF,MAAAA,KAChBV,SAAAe,iBAAA,6BAOC,SAAOC,EAAkBC,EAASC,EAAAC,GACnC,OAAAH,EAAAR,UAAAS,SAAA,oCAGC,SAAID,EAAgBV,EAApBY,EAAAC,GAJA,OAAOH,EAAQR,UAAUS,SAAS,kBAJlCJ,GAAOG,GAAkBC,GAC1BL,EAAAF,iBAAA,QAMD,SAAqBL,GAMjB,IAAAW,EAAII,EAAAA,OAIJN,GAAAA,EAAAA,UAAcO,SAAAA,2BACZ,CAEFP,EAAAA,iBAIA,IAAIQ,EAAAA,EAA2BC,QAAQV,GACvCA,EAAAC,EAAoCL,QACpCI,EAAOS,KAAAA,IAEPT,EAAOO,GAA2BX,UAAOA,OAC1C,oCAvELK,EAAAM,GAAAZ,UAAAV,IA+DQ,oCAcR,IAAAwB,EAAAT,EAAAU,QAAAV,EAAAW,KAAAC,IACAZ,EAAAS,GAAqBd,UAAAC,OAAA,kBACfvB,EAAMoC,GAAAd,UAAqBV,IAAA,iBAC7BT,EAAS+B,GAADZ,UAAoBV,IAAA,kBAC5B4B,EAF6BN,GAAAZ,UAAAC,OAAA,oBA/EjC,GAyFMf","file":"index.js","sourcesContent":["\"use strict\";\n\n(function() {\n  // Форма обратной связи\n  const contactsButton = document.getElementById(\"contacts-button\");\n  const formFeedback = document.querySelector(\".form-feedback\");\n\n  if (contactsButton && formFeedback) {\n    contactsButton.addEventListener(\"click\", openFormFeedback);\n    formFeedback.addEventListener(\"click\", closeFormFeedback);\n    window.addEventListener(\"keydown\", closeFormFeedback);\n  }\n\n  function openFormFeedback(event) {\n    event.preventDefault();\n    formFeedback.classList.add(\"page__form-feedback--opened\");\n    formFeedback.classList.remove(\"page__form-feedback--closed\");\n  }\n\n  function closeFormFeedback(event) {\n    let element = event.target;\n\n    if (\n      element.classList.contains(\"form-feedback__close\") ||\n      event.keyCode === 27\n    ) {\n      event.preventDefault();\n      formFeedback.classList.remove(\"page__form-feedback--opened\");\n      formFeedback.classList.add(\"page__form-feedback--closed\");\n    }\n  }\n\n  // Слайдер\n  const sliderControls = document.querySelector(\".slider__controls\");\n  let slides = Array.from(document.querySelectorAll(\".slide\"));\n  let sliderButtons = Array.from(\n    document.querySelectorAll(\".slider__controls-button\")\n  );\n\n  if (slides && sliderButtons && sliderControls) {\n    sliderControls.addEventListener(\"click\", changeSlide);\n  }\n\n  function findCurrentButton(element, index, array) {\n    return element.classList.contains(\"slider__controls-button--current\");\n  }\n\n  function findCurrentSlide(element, index, array) {\n    return element.classList.contains(\"slide--visible\");\n  }\n\n  function changeSlide(event) {\n    let element = event.target;\n\n    if (element.classList.contains(\"slider__controls-button\")) {\n      event.preventDefault();\n\n      let indexNextButton = sliderButtons.indexOf(element);\n      let indexCurrentButton = sliderButtons.indexOf(\n        sliderButtons.find(findCurrentButton)\n      );\n      sliderButtons[indexCurrentButton].classList.remove(\n        \"slider__controls-button--current\"\n      );\n      sliderButtons[indexNextButton].classList.add(\n        \"slider__controls-button--current\"\n      );\n\n      let indexCurrentSlide = slides.indexOf(slides.find(findCurrentSlide));\n      slides[indexCurrentSlide].classList.remove(\"slide--visible\");\n      slides[indexCurrentSlide].classList.add(\"slide--hidden\");\n      slides[indexNextButton].classList.add(\"slide--visible\");\n      slides[indexNextButton].classList.remove(\"slide--hidden\");\n    }\n  }\n})();\n\nsvg4everybody();\n\n// Яндекс карта\nfunction init(ymaps) {\n  let map = new ymaps.Map(\"map\", {\n    center: [59.93944115603922, 30.32302403991186],\n    zoom: 16,\n    controls: [\"zoomControl\"]\n  });\n\n  let placemark = new ymaps.Placemark(\n    [59.938633647616214, 30.32304549758399],\n    {},\n    {\n      iconLayout: \"default#image\",\n      iconImageHref: \"img/map-marker.png\",\n      iconImageSize: [231, 190],\n      iconImageOffset: [-51, -190]\n    }\n  );\n\n  map.behaviors.disable(\"scrollZoom\");\n  map.geoObjects.add(placemark);\n}\n"]}